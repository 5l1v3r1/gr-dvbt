<?xml version="1.0"?>
<block>
  <name>symbol_inner_interleaver</name>
  <key>dvbt_symbol_inner_interleaver</key>
  <category>dvbt</category>
  <import>import dvbt</import>
  <make>dvbt.symbol_inner_interleaver($transmission_mode.payload_length, $transmission_mode.val, $direction.val)</make>
  <param>
    <name>Transmission Mode</name>
		<key>transmission_mode</key>
		<type>enum</type>
		<option>
      <name>2K</name>
			<key>T2k</key>
			<opt>val:dvbt.T2k</opt>
      <opt>fft_length:2048</opt>
      <opt>payload_length:1512</opt>
		</option>
		<option>
      <name>8K</name>
			<key>T8k</key>
			<opt>val:dvbt.T8k</opt>
      <opt>fft_length:8192</opt>
      <opt>payload_length:6048</opt>
		</option>
		<option>
      <name>TRES1</name>
			<key>TRES1</key>
			<opt>val:dvbt.TRES1</opt>
      <opt>fft_length:2048</opt>
      <opt>payload_length:1512</opt>
		</option>
		<option>
      <name>TRES2</name>
			<key>TRES2</key>
			<opt>val:dvbt.TRES2</opt>
      <opt>fft_length:2048</opt>
      <opt>payload_length:1512</opt>
		</option>
  </param>
  <param>
    <name>Direction</name>
		<key>direction</key>
		<type>enum</type>
		<option>
      <name>Interleave</name>
			<key>Interleave</key>
			<opt>val:1</opt>
		</option>
    <option>
      <name>Deinterleave</name>
			<key>Deinterleave</key>
			<opt>val:0</opt>
		</option>
  </param>
  <sink>
    <name>in</name>
    <type>byte</type>
    <vlen>$transmission_mode.payload_length</vlen>
  </sink>
  <source>
    <name>out</name>
    <type>byte</type>
    <vlen>$transmission_mode.payload_length</vlen>
  </source>
</block>
